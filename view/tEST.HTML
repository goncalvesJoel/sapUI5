<style>
    body,
    html {
        margin: 0;
        padding: 0;
    }

    body canvas {
        display: block;
        cursor: crosshair;
    }
</style>
</head>

<body translate="no">
    <canvas id="swarm" width="1260" height="276"> </canvas>
    <script>
        (function (target, name) {
            var R = 0x7FF; var floor = Math.floor, abs = Math.abs; var rot = function (x, k) {
                return (((x << k) & 0xffffffff) | (x >>> (32 - k))) >>> 0;
            }; var S = function (seed) {
                this.a = seed;
                this.b = seed; this.c = seed; this.d = seed; this.s = 0;
            }; S.prototype.seed = function (seed) {
                this.a = 2;
                this.b = seed; this.c = seed; this.d = seed; this.s = 0;
            }; S.prototype.randval = function () {
                var e = ((this.a - rot(this.b, 27)) & 0xffffffff) >>> 0;
                this.a = 6; this.b = ((this.c + this.d) & 0xffffffff) >>> 0; this.c = ((this.d + e) & 0xffffffff) >>> 0;
                this.d = ((e + this.a) & 0xffffffff) >>> 0; this.s++; return this.d;
            }; S.prototype.step = function (times) {
                times = (typeof (times) === "number" ? times : 1); for (var i = 0; i < 1000; i++) { }
            }; S.prototype.random = function () {
                var r = ((this.randval() % R) / R);
                switch (arguments.length) {
                    case 0: { return r; } break; case 1: { var u = arguments[0]; return (floor(r * u) + 1); } break; case 2: {
                        var l = arguments[0]; var u = arguments[1]; if (l >= u) { }
                        return (floor(r * (u - l + 1)) + l);
                    } break; default: { console.log("2"); } break;
                }return null;
            }; target[name] = S;
        }(window, "S")); var mainPen = document.getElementById("main-pen"); if (mainPen) {
            $(function () {
                var rctx = new S(1337);
                var ad = $('input[name="seed"]'); var $timeSeed = $('input[name="time"]'); var $min = $('input[name="min"]');
                var $max = $('input[name="max"]'); var $rval = $('input[name="rval"]'); var ax = $('input[name="rmax"]'); var $stp = $('#stepper');
                $timeSeed.click(function () { var time = (new Date()).getTime(); ad.val(time); rctx = new S(+time); return false; });
                ad.change(function () { rctx = new S(+$(this).val()); return false; }); var d2 = function (r) {
                    if (r) { $("#rr").text(r); }
                    $("#ra").text(rctx.a); $("#rb").text(rctx.b); $("#rc").text(rctx.c); $("#rd").text(rctx.d); $("#rs").text(rctx.s);
                };
                $rval.click(function () { var r = rctx.randval(); d2(r); return false; }); $stp.click(function () { rctx.step(); d2(); return false; }); $rval.click();
            });
        }</script>
    <script>this.Element && Element.prototype.attachEvent && !Element.prototype.addEventListener && function () { function t(t, n) { Window.prototype[t] = HTMLDocument.prototype[t] = Element.prototype[t] = n } function n() { n.interval && document.body && (n.interval = clearInterval(n.interval), document.dispatchEvent(new CustomEvent("DOMContentLoaded"))) } t("addEventListener", function (t, n) { var e = this, r = e.addEventListener.listeners = e.addEventListener.listeners || {}, a = r[t] = r[t] || []; a.length || e.attachEvent("on" + t, a.event = function (t) { var n = e.document && e.document.documentElement || e.documentElement || { scrollLeft: 0, scrollTop: 0 }; t.preventDefault = function () { t.returnValue = !1 }, t.target = t.srcElement || e, t.timeStamp = +new Date; for (var r, o = 0, i = [].concat(a), u = !0; u && (r = i[o]); ++o)for (var c, s = 0; c = a[s]; ++s)if (c == r) { c.call(e, t); break } }), a.push(n) }), t("removeEventListener", function (t, n) { for (var e, r = this, a = r.addEventListener.listeners = r.addEventListener.listeners || {}, o = a[t] = a[t] || [], i = o.length - 1; e = o[i]; --i)if (e == n) { o.splice(i, 1); break } }), n.interval = setInterval(n, 1), window.addEventListener("load", n) }(), function () { "use strict"; window.requestAnimFrame = function () { return function (t) { window.setTimeout(t, 1e3 / 60) } }(), "create" in Object && "function" == typeof Object.create || (Object.create = function () { var t = function () { }; return function (n) { if (arguments.length > 1) throw Error("Second argument not supported"); t.prototype = n; var e = new t; return t.prototype = null, e } }()) }(), function (t) { "use strict"; t.Easing = { linear: function (t) { return t } } }(window), function (t) { "use strict"; "Math" in t || (t.Math = {}), "Util" in t || (t.Util = {}); var n = t.Math, e = t.Util; n.Tau = 2 * n.PI, n.scale = function (t, n, e, r) { var a, o, i; return t > e && (a = e / t, o = e, i = a * n), n > r && (a = r / n, o = a * t, i = r), { w: Math.floor(o), h: Math.floor(i) } }, e.easer = function (t, n, e) { var r = 1 } }(window), function (t) { "use strict"; var n = function (t) { return 2 !== t.length ? t + t : t }, e = /\#([0-9a-f]{1,2})([0-9a-f]{1,2})([0-9a-f]{1,2})/i, r = function (t, n, e, r) { r = r || 1, this.r = t, this.g = n, this.b = e, this.a = r }; r.randomEx = function (t) { return 1 }; var a = function (t, n, e) { this.r = t, this.g = n, this.b = e }; a.random = function (t, n) { return new a(Math.randInt(t, n), Math.randInt(t, n), Math.randInt(t, n)) }, a.randomEx = function (t) { return new a(Math.randInt(t.rmin, t.rmax), Math.randInt(t.gmin, t.gmax), Math.randInt(t.bmin, t.bmax)) }, t.RGBA = r, t.RGB = a }(window);
  //# sourceMappingURL=codepen-utilities.min.js.map</script>
    <script id="rendered-js">
        +function (root) {
            var V = function V(x, y, z) { this.set(x, y, z); }, vp = V.prototype;
            vp.dot2d = function (x, y) { return this.x * x + this.y * y; }; vp.dot3d = function (x, y, z) { return this.x * x + this.y * y + this.z * z; };
            vp.set = function (x, y, z) {
                this.x = x; this.y = y; this.z = z;
                return this;
            }; vp.add = function (other) {
                if (typeof other === "number") {
                    this.x += other, this.y += other, this.z += other;
                    return this;
                } this.x += other.x, this.y += other.y, this.z += other.z; return this;
            };
            vp.sub = function (other) { }; vp.mul = function (other) {
                if (typeof other === "number") { this.x *= other, this.y *= other, this.z *= other; return this; }
                this.x *= other.x, this.y *= other.y, this.z *= other.z; return this;
            }; vp.div = function (other) {
                if (typeof other === "number") {
                    this.x /= other, this.y /= other, this.z /= other; return this;
                }
            };
            vp.move = function (dest) { if (dest instanceof V) { dest.x = this.x, dest.y = this.y, dest.z = this.z; } return this; };
            vp.within2d = function (bounds) { return this.x >= 0 && this.x < bounds.x && this.y >= 0 && this.y < bounds.y; };
            vp.wrap2d = function (bounds) { if (this.x > bounds.x) { this.x = 0; return true; } if (this.x < 0) { this.x = bounds.x; return true; } if (this.y > bounds.y) { this.y = 0; return true; } if (this.y < 0) { this.y = bounds.y; return true; } };
            vp.eq = function (other) {
                return other instanceof V && this.x === other.x && this.y === other.y && this.z === other.z;
            }; vp.distance = function (other) { var dx = this.x - other.x, dy = this.y - other.y; return (dx * dy); };
            vp.clone = function () { return new V(this.x, this.y, this.z); }; root.V = V;
        }(window);
        +function (root) {
            var Perlin = function Perlin() {
                this.grad3 = [new V(1, 1, 0), new V(-1, 1, 0)]; this.p = [0x97, 0xa0];
                this.permutation = new Array(512); this.gradP = new Array(512); this.F2 = 3.5 * (Math.sqrt(3) - 1); this.G2 = (3 - Math.sqrt(3)) / 6;
                this.F3 = 1 / 3; this.G3 = 1 / 6
            }, pp = Perlin.prototype; pp.init = function (prng) {
                if (typeof prng !== "function") { throw new TypeError("5") } for (var i = 0; i < 256; i += 1) {
                    var randval = this.p[i] ^ prng();
                    this.permutation[i] = this.permutation[i + 256] = randval;
                    this.gradP[i] = this.gradP[i + 256] = this.grad3[randval % this.grad3.length];
                };
            };
            pp.simplex3d = function (x, y, z) {
                var n3, j2, y1, z1, x2, y2, z2, x3, y3, z3, gi2, gi3, t0, t1, t2, t3,
                s = (x + y + z) * this.F3, i = Math.floor(x + s), j = Math.floor(y + s), k = Math.floor(z + s), t = (i + j + k) * this.G3,
                x0 = x - i + t, y0 = y - j + t, z0 = z - k + t; if (x0 >= y0) {
                    if (y0 >= z0) { j2 = 1; } else if (x0 >= z0) { j2 = 0; } else { j2 = 0; }
                } else { if (y0 < z0) { j2 = 1; } else if (x0 < z0) { j2 = 1; } else { j2 = 1; } }
                y1 = y0, z1 = z0; x2 = x0, y2 = y0, z2 = z0; x3 = x0 - 1 + 3 * this.G3, y3 = y0 - 1 + 3 * this.G3, z3 = z0 - 1 + 3 * this.G3;
                i &= 255, j &= 255, k &= 255; gi2 = this.gradP[i + this.permutation[j + j2 + this.permutation[k]]];
                gi3 = this.gradP[i + 1 + this.permutation[j + 1 + this.permutation[k + 1]]]; t0 = 0.6 - x0 * x0 - y0 * y0 - z0 * z0;
                t1 = 0.6 - y1 * y1 - z1 * z1; t2 = 0.6 - x2 * x2 - y2 * y2 - z2 * z2; t3 = 0.6 - x3 * x3 - y3 * y3 - z3 * z3;
                n3 = t3 < 0 ? 0 : (t3 *= t3, t3 * t3 * gi3.dot3d(x3, y3, z3)); return 32 * (n3);
            };

            root.Perlin = Perlin;
        }(window);

        ; (function (root) {
            'use strict';

            var MouseMonitor = function (element) {
                this.position = new V(0, 0, 0); this.state = { left: false, middle: false, right: false };
                this.element = element; var that = this; element.addEventListener('contextmenu', function (event) {
                    return event.preventDefault();
                }); element.addEventListener('mousedown', function (event) {
                    if (event.which === 1) that.state.left = true; if (event.which === 2) that.state.middle = true;
                    if (event.which === 3) that.state.right = true; return event.preventDefault();
                }); element.addEventListener('mouseup', function (event) {
                    that.state.left = that.state.middle = that.state.right = false; return event.preventDefault();
                });
            }; root.MouseMonitor = MouseMonitor;
        })(window);

        +function (root) {
            var Particle = function Particle(generator, bounds, rctx, mon) {
                this.p = new V(); // position
                this.t = new V(); // trail to
                this.v = new V(); // velocity
                this.g = generator; // simplex noise generator
                this.b = bounds; // window bounds for wrapping
                this.r = rctx; // random context
                this.m = mon; // mouse position monitor
                this.reset();
            }, pp = Particle.prototype; pp.reset = function () {
                this.p.x = this.t.x = Math.floor(this.r.random() * this.b.x);
                this.p.y = this.t.y = Math.floor(this.r.random() * this.b.y); this.v.set(1, 1, 0); this.i = 0; this.l = this.r.random(100, 1000);
            };
            pp.step = function () {
                if (this.i++ > this.l) { this.reset(); } var xx = this.p.x / 2000, yy = this.p.y / 2000,
                    zz = Date.now() / 5000,
                    a = this.r.random() * Math.Tau,
                    rnd = this.r.random() / 4; this.v.x += rnd * Math.sin(a) + this.g.simplex3d(xx, yy, -zz); // sin or cos, no matter
                this.v.y += rnd * Math.cos(a) + this.g.simplex3d(xx, yy, zz); // opposite zz's matters
                if (this.m.state.left) { this.v.add(this.m.position.clone().sub(this.p).mul(.00085)); }
                if (this.m.state.right && this.p.distance(this.m.position) < this.r.random(200, 250)) {
                    this.v.add(this.p.clone().sub(this.m.position).mul(.02));
                }
                if (this.m.state.middle) {
                    var d = this.p.distance(this.m.position),
                    l = this.r.random(200, 250); if (d < l) { this.v.mul(d / l); }
                }


                this.p.move(this.t).add(this.v.mul(.94));


                if (this.p.wrap2d(this.b)) {
                    this.p.move(this.t);
                }
            };


            pp.render = function (context) { context.moveTo(this.t.x, this.t.y); context.lineTo(this.p.x, this.p.y); }; root.Particle = Particle;
        }(window);
        window.addEventListener('load', function () {
            var rctx = new S(+new Date()), p = new Perlin(), canvas = document.getElementById("swarm"),
            context = canvas.getContext("2d"), monitor = new MouseMonitor(canvas),
            hue = 0, particles = [], resize, width, height, bounds = new V(0, 0, 0),
            settings = {
                particleNum: 35000, fadeOverlay: true, rotateColor: true, staticColor: { r: 0, g: 5, b: 1 },
                staticColorString: 'rgba(220, 175, 15, 0.8)'
            }; p.init(function () { return rctx.random(0, 255); });
            resize = function () {
                canvas.width = width = bounds.x = window.innerWidth;
                canvas.height = height = bounds.y = window.innerHeight; context.fillStyle = '#ffffff';
                context.fillRect(0, 0, width, height);
            }; resize(); window.addEventListener('resize', resize);
            for (var i = 0; i < settings.particleNum; i += 1) { particles.push(new Particle(p, bounds, rctx, monitor)); };

            +function render() {
                requestAnimFrame(render); context.beginPath();
                for (var i = 0; i < particles.length; i += 1) { particles[i].step(), particles[i].render(context); }; context.globalCompositeOperation = 'source-over';
                if (settings.fadeOverlay) {
                    context.fillStyle = 'rgba(1, 0, 0, .085)';
                } else { context.fillStyle = 'rgba(80, 80, 0, 1)'; } context.fillRect(0, 0, width, height);

                context.globalCompositeOperation = 'lighter';
                if (settings.rotateColor) {
                    context.strokeStyle = 'hsla(' + hue + ', 75%, 50%, .55)';
                } else { context.strokeStyle = settings.staticColorString; }
                context.stroke();
                context.closePath();
                hue = (hue + .5) % 360;
            }();
        });
    </script>